import * as esbuild from 'esbuild';

await esbuild.build({
  logLevel: 'info',
  bundle: true,
  format: 'cjs',
  platform: 'node',

  entryPoints: ['src/shift.js'],
  outfile: 'dist/shift.cjs',
  target: ['es2022'],
  supported: {
    'arbitrary-module-namespace-names': true,
    'array-spread': true,
    'arrow': true,
    'async-await': true,
    'async-generator': true,
    'bigint': true,
    'class-field': true,
    'class-private-accessor': true,
    'class-private-brand-check': true,
    'class-private-field': true,
    'class-private-method': true,
    'class-private-static-accessor': true,
    'class-private-static-field': true,
    'class-private-static-method': true,
    'class-static-blocks': true,
    'class-static-field': true,
    'class': true,
    'const-and-let': true,
    'default-argument': true,
    'destructuring': true,
    'dynamic-import': true,
    'exponent-operator': true,
    'export-star-as': true,
    'for-await': true,
    'for-of': true,
    'generator': true,
    'hashbang': true,
    'import-assertions': true,
    'import-meta': true,
    'inline-script': true,
    'logical-assignment': true,
    'nested-rest-binding': true,
    'new-target': true,
    'node-colon-prefix-import': true,
    'node-colon-prefix-require': true,
    'nullish-coalescing': true,
    'object-accessors': true,
    'object-extensions': true,
    'object-rest-spread': true,
    'optional-catch-binding': true,
    'optional-chain': true,
    'regexp-dot-all-flag': true,
    'regexp-lookbehind-assertions': true,
    'regexp-match-indices': true,
    'regexp-named-capture-groups': true,
    'regexp-sticky-and-unicode-flags': true,
    'regexp-unicode-property-escapes': true,
    'rest-argument': true,
    'template-literal': true,
    'top-level-await': true,
    'typeof-exotic-object-is-object': true,
    'unicode-escapes': true,
  },
  minify: false,
});
